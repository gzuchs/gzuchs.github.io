<!DOCTYPE html>
<html>
	<head>
		<title>Arena Item Randomizer</title>
	</head>
	<body>
		<h1>Arena Item Randomizer</h1>
		<p>This tool will generate an item drop from a list of provided items, along with a probability of appearance and coordinates.</p>
		<h2>Settings</h2>
		<h3>Item List</h3>
		<p>Create a list of items here.</p>
		<label for="item">Item:</label>
		<input type="text" id="item" name="Item">
		<input type="button" value="submit" id="item add">
		<ul id="item list"></ul>
		<script type="text/javascript">
			// Listener for item add button - gets values onclick
			document.getElementById("item add").onclick = function() {
				// Define list element
				var node = document.createElement("li");
				
				// Get text from input
				var text = document.getElementById("item").value
				
				// Create text node
				var textnode = document.createTextNode(text);
				
				// Append text node to list element
				node.appendChild(textnode);
				
				// Append list element to list
				document.getElementById("item list").appendChild(node);
			}
		</script>
		<input type="button" value="Clear List" id="empty item list">
		<script type="text/javascript">
			// Listener for empty item list button - clears item list
			document.getElementById("empty item list").onclick = function() {
				var item_list = document.getElementById("item list");
				item_list.innerHTML = '';
			}
		</script>
		<h3>Probability of Item Appearance</h3>
		<p>Enter probability of any item appearing.</p>
		<label for="probability">Probability of Item Generation:</label>
		<input type="text" id="chance of item" name="Chance of Item Appearing">
		<input type="button" value="submit" id="item probability set">
		<br/>
		<span id="display item probability">0</span>
		<script type="text/javascript">
			document.getElementById("item probability set").onclick = function() {
				// get probability value - clips numbers below 0 to 0 and above 1 to 1
				var prob_value = document.getElementById("chance of item").value
				prob_value = Math.max(prob_value, 0);
				prob_value = Math.min(prob_value, 1);
				
				// set html to probability value
				document.getElementById("display item probability").innerHTML = prob_value;
			}
		</script>
		<br/>
		<h3>Arena Coordinates</h3>
		<p>Enter x and y coordinate ranges for arena.</p>
		<div>
			<p>x-coordinate range</p>
			<input type="text" id="x start" name="X Coordinate Start">
			<input type="text" id="x end" name="X Coordinate End">
		</div>
		<div>
			<p>y-coordinate range</p>
			<input type="text" id="y start" name="Y Coordinate Start">
			<input type="text" id="y end" name="Y Coordinate End">
		</div>
		<br/>
		<div>
			<input type="button" value="Submit Coordinate Ranges" id="submit coordinates">
		</div>
		<div>
			<span id="x start display">0</span>
			<span id="x end display">0</span>
			<br/>
			<span id="y start display">0</span>
			<span id="y end display">0</span>			
		</div>		
		<script type="text/javascript">
			document.getElementById("submit coordinates").onclick = function() {
				// get coordinate ranges and displays them
				var x_start = document.getElementById("x start").value
				var x_end = document.getElementById("x end").value
				var y_start = document.getElementById("y start").value
				var y_end = document.getElementById("y end").value
				
				document.getElementById("x start display").innerHTML = x_start;
				document.getElementById("x end display").innerHTML = x_end;
				document.getElementById("y start display").innerHTML = y_start;
				document.getElementById("y end display").innerHTML = y_end;
			}
		</script>
		<h2>Results</h2>
		<input type="button" value="Generate Random Item" id="random item generator">
		<br/>
		<span id="item randomizer results"></span>
		<script type="text/javascript">
			// Listener for random item generator button - will use elements of item list, probability, and x start, x end, y start, and y end for generating item depending on chance
			document.getElementById("random item generator").onclick = function() {
				let item_results;
				let random_number = Math.random()
				let chance_of_item = document.getElementById("chance of item").value
				
				if (random_number < chance_of_item) {
					item_results = "Item has been generated.";
				}
				else {
					item_results = "No item has been generated.";
				}
				
				document.getElementById("item randomizer results").innerHTML = item_results.concat(" - ", (Math.round(random_number * 100) / 100).toString());
			}
		</script>
	</body>
</html>